<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EDITAR EMPRESA - SISTEMA DE VISITAS</title>
    <link rel="stylesheet" href="../assets/css/style.css">
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <div class="header-content">
                <h1>EDITAR EMPRESA</h1>
                <div class="user-info">
                    <span id="userName"></span>
                    <button id="logoutBtn" class="btn-secondary">SAIR</button>
                </div>
            </div>
        </header>

        <nav class="app-nav">
            <a href="../dashboard.html" class="nav-link">DASHBOARD</a>
            <a href="../empresas.html" class="nav-link active">EMPRESAS</a>
            <a href="../visitas.html" class="nav-link">VISITAS</a>
            <a href="../relatorios.html" class="nav-link" id="relatoriosLink" style="display: none;">RELATÓRIOS</a>
        </nav>

        <main class="app-main">
            <div class="form-container">
                <div class="form-header">
                    <h2>EDITAR EMPRESA</h2>
                    <a href="../empresas.html" class="btn-secondary">VOLTAR</a>
                </div>

                <!-- Loading indicator -->
                <div id="loadingIndicator" class="loading">
                    <div class="spinner"></div>
                    CARREGANDO DADOS DA EMPRESA...
                </div>

                <form id="empresaForm" class="form-content" style="display: none;">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="name">NOME DA EMPRESA *</label>
                            <input type="text" id="name" name="name" required>
                        </div>

                        <div class="form-group">
                            <label for="cnpj">CNPJ *</label>
                            <input type="text" id="cnpj" name="cnpj" required placeholder="00.000.000/0000-00">
                        </div>

                        <div class="form-group">
                            <label for="segment">SEGMENTO *</label>
                            <select id="segment" name="segment" required>
                                <option value="">SELECIONE O SEGMENTO</option>
                                <option value="AGRONEGÓCIO">AGRONEGÓCIO</option>
                                <option value="ALIMENTÍCIO">ALIMENTÍCIO</option>
                                <option value="AUTOMOTIVO">AUTOMOTIVO</option>
                                <option value="CONSTRUÇÃO CIVIL">CONSTRUÇÃO CIVIL</option>
                                <option value="EDUCAÇÃO">EDUCAÇÃO</option>
                                <option value="ENERGIA">ENERGIA</option>
                                <option value="FARMACÊUTICO">FARMACÊUTICO</option>
                                <option value="FINANCEIRO">FINANCEIRO</option>
                                <option value="GOVERNO">GOVERNO</option>
                                <option value="HOTELARIA">HOTELARIA</option>
                                <option value="INDÚSTRIA">INDÚSTRIA</option>
                                <option value="LOGÍSTICA">LOGÍSTICA</option>
                                <option value="MINERAÇÃO">MINERAÇÃO</option>
                                <option value="PETRÓLEO E GÁS">PETRÓLEO E GÁS</option>
                                <option value="SAÚDE">SAÚDE</option>
                                <option value="TECNOLOGIA">TECNOLOGIA</option>
                                <option value="TELECOMUNICAÇÕES">TELECOMUNICAÇÕES</option>
                                <option value="TÊXTIL">TÊXTIL</option>
                                <option value="VAREJO">VAREJO</option>
                                <option value="OUTROS">OUTROS</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="sector">SETOR</label>
                            <input type="text" id="sector" name="sector" placeholder="EX: INDUSTRIAL, COMERCIAL">
                        </div>

                        <div class="form-group">
                            <label for="address">ENDEREÇO *</label>
                            <input type="text" id="address" name="address" required>
                        </div>

                        <div class="form-group">
                            <label for="state_id">ESTADO *</label>
                            <select id="state_id" name="state_id" required>
                                <option value="">SELECIONE O ESTADO</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="city_id">CIDADE *</label>
                            <select id="city_id" name="city_id" required>
                                <option value="">SELECIONE A CIDADE</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="region">REGIÃO</label>
                            <input type="text" id="region" name="region" placeholder="EX: ZONA SUL, CENTRO">
                        </div>

                        <div class="form-group">
                            <label for="phone">TELEFONE</label>
                            <input type="tel" id="phone" name="phone" placeholder="(11) 1234-5678">
                        </div>

                        <div class="form-group">
                            <label for="whatsapp">WHATSAPP</label>
                            <input type="tel" id="whatsapp" name="whatsapp" placeholder="(11) 91234-5678">
                        </div>

                        <div class="form-group">
                            <label for="email">EMAIL</label>
                            <input type="email" id="email" name="email">
                        </div>

                        <div class="form-group">
                            <label for="responsible">RESPONSÁVEL</label>
                            <input type="text" id="responsible" name="responsible" placeholder="NOME DO CONTATO">
                        </div>

                        <div class="form-group">
                            <label for="consultant">CONSULTOR PRINCIPAL *</label>
                            <select id="consultant" name="consultant" required>
                                <option value="">SELECIONE O CONSULTOR PRINCIPAL</option>
                            </select>
                        </div>

                        <!-- NOVO CAMPO: CONSULTOR SECUNDÁRIO -->
                        <div class="form-group">
                            <label for="consultant_secondary">CONSULTOR SECUNDÁRIO</label>
                            <select id="consultant_secondary" name="consultant_secondary">
                                <option value="">SELECIONE O CONSULTOR SECUNDÁRIO (OPCIONAL)</option>
                            </select>
                            <small class="form-help">Consultor que pode atender na ausência do principal</small>
                        </div>

                        <div class="form-group">
                            <label for="rating">AVALIAÇÃO</label>
                            <select id="rating" name="rating" required>
                                <option value="0">SEM AVALIAÇÃO</option>
                                <option value="1">1 ESTRELA</option>
                                <option value="2">2 ESTRELAS</option>
                                <option value="3">3 ESTRELAS</option>
                                <option value="4">4 ESTRELAS</option>
                                <option value="5">5 ESTRELAS</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="status">STATUS *</label>
                            <select id="status" name="status" required>
                                <option value="ATIVA">ATIVA</option>
                                <option value="INATIVA">INATIVA</option>
                            </select>
                        </div>
                    </div>

                    <!-- Informações de Auditoria -->
                    <div class="empresa-info">
                        <h3>INFORMAÇÕES DE AUDITORIA</h3>
                        <div class="info-grid">
                            <div class="info-item">
                                <strong>CRIADO POR:</strong>
                                <span id="createdBy">-</span>
                            </div>
                            <div class="info-item">
                                <strong>DATA DE CRIAÇÃO:</strong>
                                <span id="createdAt">-</span>
                            </div>
                            <div class="info-item">
                                <strong>ÚLTIMA ATUALIZAÇÃO:</strong>
                                <span id="updatedAt">-</span>
                            </div>
                            <div class="info-item">
                                <strong>TOTAL DE VISITAS:</strong>
                                <span id="totalVisitas">-</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" onclick="window.location.href='../empresas.html'" class="btn-secondary">CANCELAR</button>
                        <button type="submit" class="btn-primary">SALVAR ALTERAÇÕES</button>
                    </div>
                </form>
            </div>
        </main>
    </div>

    <script src="../assets/js/auth.js"></script>
    <script src="../assets/js/empresa-edit.js"></script>
</body>
</html>
